My version of a dynamic generic array in c